#include <iostream>
#include <cstdlib>
#include <utility>
#include <string>
#include <map>
#include "method.hpp"

const std::map<std::pair<int, int>, float>& get_method(const std::string& method_name) {
    static const std::map<std::string, std::map<std::pair<int, int>, float>> methods = {
        {"FloydSteinberg", {
            {{1, 0}, 7.0f / 16.0f},
            {{-1, 1}, 3.0f / 16.0f},
            {{0, 1}, 5.0f / 16.0f},
            {{1, 1}, 1.0f / 16.0f}
        }},
        {"StevensonArce", {
            {{2, 0}, 32.0f / 200.0f},
            {{-3, 1}, 12.0f / 200.0f},
            {{-1, 1}, 26.0f / 200.0f},
            {{1, 1}, 30.0f / 200.0f},
            {{3, 1}, 16.0f / 200.0f},
            {{-2, 2}, 12.0f / 200.0f},
            {{0, 2}, 26.0f / 200.0f},
            {{2, 2}, 12.0f / 200.0f},
            {{-3, 3}, 5.0f / 200.0f},
            {{-1, 3}, 12.0f / 200.0f},
            {{1, 3}, 12.0f / 200.0f},
            {{3, 3}, 5.0f / 200.0f}
        }},
        {"Burkes", {
            {{1, 0}, 8.0f / 32.0f},
            {{2, 0}, 4.0f / 32.0f},
            {{-2, 1}, 2.0f / 32.0f},
            {{-1, 1}, 4.0f / 32.0f},
            {{0, 1}, 8.0f / 32.0f},
            {{1, 1}, 4.0f / 32.0f},
            {{2, 1}, 2.0f / 32.0f}
        }},
        {"Sierra", {
            {{1, 0}, 5.0f / 32.0f},
            {{2, 0}, 3.0f / 32.0f},
            {{-2, 1}, 2.0f / 32.0f},
            {{-1, 1}, 4.0f / 32.0f},
            {{0, 1}, 5.0f / 32.0f},
            {{1, 1}, 4.0f / 32.0f},
            {{2, 1}, 2.0f / 32.0f},
            {{-1, 2}, 2.0f / 32.0f},
            {{0, 2}, 3.0f / 32.0f},
            {{1, 2}, 2.0f / 32.0f}
        }},
        {"Stucki", {
            {{1, 0}, 8.0f / 42.0f},
            {{2, 0}, 4.0f / 42.0f},
            {{-2, 1}, 2.0f / 42.0f},
            {{-1, 1}, 4.0f / 42.0f},
            {{0, 1}, 8.0f / 42.0f},
            {{1, 1}, 4.0f / 42.0f},
            {{2, 1}, 2.0f / 42.0f},
            {{-2, 2}, 1.0f / 42.0f},
            {{-1, 2}, 2.0f / 42.0f},
            {{0, 2}, 4.0f / 42.0f},
            {{1, 2}, 2.0f / 42.0f},
            {{2, 2}, 1.0f / 42.0f}
        }},
        {"JarvisJudiceNinke", {
            {{1, 0}, 7.0f / 48.0f},
            {{2, 0}, 5.0f / 48.0f},
            {{-2, 1}, 3.0f / 48.0f},
            {{-1, 1}, 5.0f / 48.0f},
            {{0, 1}, 7.0f / 48.0f},
            {{1, 1}, 5.0f / 48.0f},
            {{2, 1}, 3.0f / 48.0f},
            {{-2, 2}, 1.0f / 48.0f},
            {{-1, 2}, 3.0f / 48.0f},
            {{0, 2}, 5.0f / 48.0f},
            {{1, 2}, 3.0f / 48.0f},
            {{2, 2}, 1.0f / 48.0f}
        }}
    };

    auto it = methods.find(method_name);
    if (it != methods.end())
        return it->second;
    std::cerr << "Método inválido: " << method_name << std::endl;
    std::exit(EXIT_FAILURE);
}